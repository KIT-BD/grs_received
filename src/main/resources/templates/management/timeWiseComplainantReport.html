<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div th:fragment="timeWiseComplainantReportIncludeStyle" th:remove="tag">
    <link href="/assets/global/css/dashboard-main.css" rel="stylesheet" type="text/css"/>
    <link href="/assets/global/css/dashboard-ui.css" rel="stylesheet" type="text/css"/>
    <link href="/assets/global/plugins/bootstrap-summernote/summernote.css" rel="stylesheet" type="text/css"/>
    <link href="/assets/global/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css"/>
    <link href="/assets/global/plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet"
          type="text/css"/>
    <link href="/assets/global/plugins/easy-autocomplete/easy-autocomplete.css" rel="stylesheet" type="text/css"/>
</div>

<div th:fragment="timeWiseComplainantReport" th:remove="tag">
    <div class="panel panel-default" style="background: white;">
        <div class="panel-body" id="timeWiseComplainantReport">
            <div class="font-lg bold text-center margin-bottom-20">অভিযোগকারীর সময়ভিত্তিক প্রতিবেদন</div>
            <div class="portlet-title remove-on-print" style="margin: 0px 20px;">
                <div class="row margin-bottom-20 office-selection">

                    <th:block th:replace="officeSelection :: officeSelection"></th:block>

                </div>
                <div class="row">
                    <label class="control-label col-sm-1 font-lg text-center">
                        <span>মাস</span>
                    </label>
                    <div class="col-sm-3">
                        <div class='input-group date' id="timeWiseComplainantReportFrom">
                            <input class="form-control" style="font-size: 14px!important;" type="text" readonly>
                            <span class="input-group-addon" style="width: auto;">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                        </div>
                    </div>
                    <label class="control-label col-sm-1 font-lg text-center">
                        <span>থেকে</span>
                    </label>
                    <div class="col-sm-3">
                        <div class='input-group date' id="timeWiseComplainantReportTo">
                            <input class="form-control" style="font-size: 14px!important;" type="text" readonly>
                            <span class="input-group-addon" style="width: auto;">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                        </div>
                    </div>
                    <a class="btn btn-outline btn-info col-sm-2 view-report" style="cursor: pointer; color: #ffffff;">
                        <i class="fa fa-area-chart"></i>&nbsp;
                        <span>প্রতিবেদন দেখুন</span>
                    </a>
                    <a class="btn btn-outline btn-success col-md-1 print-report pull-right"
                       style="cursor: pointer; color: #ffffff;">
                        <i class="fa fa-print"></i>&nbsp;
                        <span th:text="#{print}"></span>
                    </a>
                </div>
            </div>
            <h4 class="row text-center margin-top-20">
                <!--<div class="font-lg bold office-name-selected"></div>-->
                <!--<div class="font-lg">অভিযোগ প্রতিকার-সংক্রান্ত মাসিক প্রতিবেদন</div>-->
                <div class="font-md">
                    <span class="month-name-from"></span> - <span class="month-name-to"></span>
                </div>
            </h4>


            <div style="cursor:pointer;">
                <div class="full-height-content-body">
                    <div>

                        <table class="table table-hover table-striped table-bordered table-checkable order-column"
                               style="cursor:pointer;" id="grievanceTimeWiseComplainantReportTable">

                            <thead>
                            <tr>
                                <th class="text-center">#</th>
                                <th class="text-center">অভিযোগকারীর নাম</th>
                                <th class="text-center">মোবাইল নম্বর</th>
                                <th class="text-center">ট্র্যাকিং নম্বর</th>
                                <th class="text-center">অভিযোগের বিষয়</th>
                                <th class="text-center">অভিযোগের তারিখ</th>
                                <th class="text-center">অভিযোগের অবস্থা</th>
                                <th class="text-center">দপ্তর</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td colspan='8' class='text-center'>দুঃখিত! কোনো তথ্য পাওয়া যায়নি</td>
                            </tr>
                            </tbody>

                        </table>

                        <div class="d-flex justify-content-md-between align-items-md-center">
                            <span style="font-size: 14px;" class="dataTables_info" id="tblListTimeWiseComplainant_info" role="status"
                                 aria-live="polite" th:text="#{info.template}"></span>
                                <div id="tblListView_paginate">
                                    <div class="pagination-panel d-flex align-items-md-center">
                                        <span style="font-size: 14px;" th:text="#{page}"></span>
                                        <span style="font-size: 14px;" class="pagination-panel-total" th:text="#{number.zero}"></span>
                                        <span style="font-size: 14px;" th:text="#{of}"></span>
                                        <a href="javascript:;" class="btn btn-sm default prev disabled" style="border-radius: 0!important; cursor: pointer">
                                            <i class="fa fa-angle-left"></i>
                                        </a>
                                        <input style="font-size: 14px;" class="pagination-panel-input form-control input-sm input-inline input-mini"
                                               maxlength="5" style="text-align:center; margin: 0 5px;font-size: 14px!important;" id="currentPage"
                                               value="০" type="text">
                                        <a href="javascript:;" class="btn btn-sm default next disabled" style="border-radius: 0!important; cursor: pointer">
                                            <i class="fa fa-angle-right"></i>
                                        </a>
                                        <span style="font-size: 14px;" th:text="#{page.shown}"></span>
                                    </div>
                                </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<div th:fragment="timeWiseComplainantReportIncludeScript" th:remove="tag">
    <script src="assets/global/plugins/echarts/echarts-all.js" type="text/javascript"></script>
    <script src="assets/global/scripts/printThis.js" type="text/javascript"></script>
    <script src="/assets/global/plugins/select2/js/select2.full.min.js" type="text/javascript"></script>
    <script src="assets/global/plugins/icheck/icheck.min.js" type="text/javascript"></script>
    <!--    <script src="/assets/global/plugins/select2/js/i18n/bn.js" type="text/javascript"></script>-->
    <th:block th:replace="officeSelection :: officeSelectionScript"></th:block>
</div>

<script type="text/javascript" th:fragment="timeWiseComplainantReportScript">

    const DEFAULT_CHART_INITIALIZATION_DELAY = 500;
    const MEDIUMS = {
        "ONLINE": "ওয়েবসাইট",
        "FROM_LAST_MONTH": "পূর্ববর্তী মাসের জের",
        "CONVENTIONAL_METHOD": "প্রচলিত পদ্ধতিতে",
        "SELF_MOTIVATED_ACCEPTANCE": "স্বপ্রণোদিতভাবে গৃহীত"
    };
    const SERVICE_TYPES = {
        "NAGORIK": "নাগরিক",
        "DAPTORIK": "দাপ্তরিক",
        "STAFF": "কর্মকর্তা-কর্মচারী"
    };
    const MONTH_NAME_BANGLA = ["জানুয়ারী", "ফেব্রুয়ারী", "মার্চ", "এপ্রিল", "মে", "জুন", "জুলাই", "আগস্ট", "সেপ্টেম্বর", "অক্টোবর", "নভেম্বর", "ডিসেম্বর"];
    var currentPage = 1, maxPage = 1, itemPerPage = 10;
    var ministries = [];

    String.prototype.toBanglaNumber = function () {
        var engNum = this;
        var bngNum = '';
        var bngDigits = ['০', '১', '২', '৩', '৪', '৫', '৬', '৭', '৮', '৯'];
        engNum.split('').forEach(function (digit) {
            var index = parseInt(digit);
            bngNum += isNaN(index) ? digit : bngDigits[index];
        });
        return bngNum;
    };

    function loadAdditionalReportData(url, grievanceMinistryReportTable) {
        blockUI();
        var level = $("#officeLayers").val();
        var firstSelection = $("#firstSelection").val();
        var secondSelection = $("#secondSelection").val();

        var searchSize = $("[name='isMobileLogin']").val() == "true" ? 5 : 10;
        itemPerPage = searchSize;
        $("#currentPage").val(languageCode == 'en' ? ("" + (currentPage)) : ("" + (currentPage)).toBanglaNumber());

        $.ajax({
            url: url,
            type: "get",
            data: {
                "level": level,
                "firstSelection": firstSelection,
                "secondSelection": secondSelection,
                "page": (currentPage - 1),
                "size": searchSize
            },
            dataType: "json",
            success: function (response) {

                var grievanceReportBody = "";

                if (response == 0 || response == "" || response.content.length == 0) {
                    $(".pagination-panel-total").html(languageCode == "en" ? "0" : "0".toBanglaNumber());
                    $("#currentPage").val(languageCode == "en" ? "0" : "0".toBanglaNumber());
                    $(".prev, .next").addClass("disabled");

                    grievanceReportBody += "<tr class='text-center'>" +
                        "<td colspan='8'>" + "কোনো তথ্য পাওয়া যায়নি" + "</td>" +
                        "</tr>";
                } else {

                    var totalPages = response.totalPages;
                    var totalElements = response.totalElements;
                    var dataSize = response.size;
                    var numberOfElements = response.numberOfElements;
                    var number = response.number;
                    var sort = response.sort;
                    var isFirst = response.isFirst;
                    var isLast = response.isLast;

                    $(".pagination-panel-total").html(languageCode == "en" ? ("" + (totalPages)) : ("" + (totalPages)).toBanglaNumber());
                    maxPage = totalPages;
                    if (maxPage == 1) {
                        $(".prev, .next").addClass("disabled");
                    }
                    if (currentPage == 1) {
                        $(".prev").addClass("disabled");
                    }
                    if (maxPage > 1 && maxPage != currentPage) {
                        $(".next").removeClass("disabled");
                    }
                    var listViewInfoBng = ("" + totalElements).toBanglaNumber() + " টি দপ্তরের মধ্যে " + ("" + (number * dataSize + 1)).toBanglaNumber() + "-" + ("" + (number * dataSize + numberOfElements)).toBanglaNumber() + " এর  তথ্য দেখানো হচ্ছে";
                    var listViewInfoEng = ("" + totalElements) + " Offices total and  " + ("" + (number * dataSize + 1)) + "-" + ("" + (number * dataSize + numberOfElements)) + " is shown";
                    $("#tblListTimeWiseComplainant_info").html(languageCode == "en" ? listViewInfoEng : listViewInfoBng);


                    var complainantList = [];
                    var content = response.content;
                    content.forEach(function (item, index) {
                        complainantList.push(item);
                    });

                    grievanceReportBody = reportTableGrievanceChunkCreate(complainantList, grievanceReportBody);

                }

                $("#" + grievanceMinistryReportTable + " tbody").empty().html(grievanceReportBody);

            },
            complete: function () {
                unblockUI();
            }
        });
    }

    function reportTableGrievanceChunkCreate(response, grievanceReportBody) {
        response.forEach(function (item, index) {
            grievanceReportBody += getReportBody(item, index);

        });
        return grievanceReportBody;
    }

    function getReportBody(timeWiseComplainantReportData, index) {
        var serial = +index + +1;
        return "<tr class='text-center'>" +
            "<td>" + ("" + serial).toBanglaNumber() + "</td>" +
            "<td>" + ("" + timeWiseComplainantReportData["name"]).toBanglaNumber() + "</td>" +
            "<td>" + ("" + timeWiseComplainantReportData["mobileNumber"]).toBanglaNumber() + "</td>" +
            "<td>" + ("" + timeWiseComplainantReportData["trackingNumberBangla"]).toBanglaNumber() + "</td>" +
            "<td>" + ("" + timeWiseComplainantReportData["subject"]).toBanglaNumber() + "</td>" +
            "<td>" + ("" + timeWiseComplainantReportData["createdAt"]).toBanglaNumber() + "</td>" +
            "<td>" + ("" + timeWiseComplainantReportData["statusBangla"]).toBanglaNumber() + "</td>" +
            "<td>" + ("" + timeWiseComplainantReportData["officeNameBangla"]).toBanglaNumber() + "</td>" +
            "</tr>";
    }

    function bindtimeWiseComplainantInputFieldChangeEvents() {
        var dateFieldFrom = $("#timeWiseComplainantReportFrom");
        var dateFieldTo = $("#timeWiseComplainantReportTo");
        dateFieldFrom.datepicker().on("changeDate", function (event) {
            $("#timeWiseComplainantReport .month-name-from").text(dateFieldFrom.find("input").val());
        });
        dateFieldTo.datepicker().on("changeDate", function (event) {
            $("#timeWiseComplainantReport .month-name-to").text(dateFieldTo.find("input").val());
        });
        $("#timeWiseComplainantReport .office-selection").on("change", "select", function (event) {
            event.stopPropagation();
            var officeId = $("#secondSelection").val();
            if (officeId && !isNaN(parseInt(officeId))) {
                var officeName = $("#secondSelection option:selected").text();
                $("#timeWiseComplainantReport .office-name-selected").text(officeName);
            } else {
                $("#timeWiseComplainantReport .office-name-selected").text("");
            }
        })

    }

    function bindtimeWiseComplainantReportViewAction() {
        $("#timeWiseComplainantReport .view-report").on("click", function () {
            loadComplainantreport();
        });

    }

    function loadComplainantreport() {
        var level = $("#officeLayers").val();
        var dateFrom = $("#timeWiseComplainantReportFrom").datepicker("getDate");
        var dateTo = $("#timeWiseComplainantReportTo").datepicker("getDate");
        // if(!level || isNaN(parseInt(level))) {
        //     toastr.error("দপ্তর নির্বাচন সঠিক নয়", null, {positionClass: 'toast-top-center'});
        // }
        if (!dateFrom || !dateTo) {
            toastr.error("দয়া করে সঠিক মাস ও বছর নির্বাচন করুন", null, {positionClass: 'toast-top-center'});
        } else if (dateFrom > dateTo) {
            toastr.error("মাস ও বছরের সীমা নির্বাচন সঠিক নয়", null, {positionClass: 'toast-top-center'});
        } else {
            var url = "/api/timeWiseComplainantWithChildOffices/reports/from/" + dateFrom.getFullYear() + "/" + (dateFrom.getMonth() + 1) + "/to/" + dateTo.getFullYear() + "/" + (dateTo.getMonth() + 1);
//                loadtimeWiseComplainantReportData(level, dateFrom, dateTo);
            loadAdditionalReportData(url, "grievanceTimeWiseComplainantReportTable");
        }
        return;
    }

    function printtimeWiseComplainantReport() {
        $("#timeWiseComplainantReport .print-report").on("click", function () {
            var mywindow = window.open('', 'PRINT', "width=" + screen.availWidth + ",height=" + screen.availHeight);
            mywindow.document.write('<html><head>');
            mywindow.document.write('<style> @media screen { body{ font-family: "kalpurushregular" !important;font-size: 8px; box-sizing: border-box; width:98%; height: 98%; margin: 0px; padding: 0px; font-weight: 300; }h1, h2, h3, h4, h5, h6 {font-family: "kalpurushregular" !important;font-size: 8px;}.text-center {text-align: center;} input{ font-size: 8px !important; } .double-line{ width:100%; height: 4.6%; } .single-line{ box-sizing: border-box; width:100%; height: 2.3%; padding-bottom: .2%; } .double-line input{ height: 100%; width: 75%; box-sizing: border-box; float:left; border: thin solid black; padding-left:1%; } .single-line input{ height: 100%; width: 75%; display: inline-block; box-sizing: border-box; float: left; border: thin solid black ; border-width: thin; padding-left:1%; } .input{ height: 100%; width: 63%; display: inline-block; box-sizing: border-box; float: left; } .fee-input{ height: 20%; width: 16%; display: inline-block; float: left; box-sizing: border-box; } .label{ box-sizing: border-box; width: 23%; height: 100%; vertical-align: top; display: inline-block; float: left; margin-right: 2%; padding: .7%; } .label-independent{ box-sizing: border-box; width: 100%; height: 1%; vertical-align: top; display: inline-block; float: left; margin-right: 0%; } .element{ box-sizing: border-box; width: 60% } .left_top{ height: 50%; text-align: left; } .right_bottom{ height: 50%; text-align: right; } .left_bottom{ height: 50%; text-align: left; } table, th, td, tr { font-family: "kalpurushregular"; box-sizing: border-box; border: .5px solid black; border-collapse: collapse; padding: 1px; } .table{ font-family: "kalpurushregular" width: 100%; height: 15%; font-size: 8.6px; } .photo{ box-sizing: border-box; width:100%; height: 13%; } .photo-tabel{ width: 45%; height: 100%; font-size: 8.6px; } .page-break{ page-break-after: always; } .body-border{ border: 1px solid black; padding: 2%;; } .attachements{ width:100%; height: 8%; } td img{ display: block; width:100%; } } @media print{ body{ font-family: "kalpurushregular" !important;font-size: 8px; box-sizing: border-box; width:98%; height: 98%; margin: 0px; padding: 0px; font-weight: 300; }h1, h2, h3, h4, h5, h6 {font-family: "kalpurushregular" !important;font-size: 8px;}.text-center {text-align: center;} input{ font-size: 8px !important; } .double-line{ width:100%; height: 4.6%; } .single-line{ box-sizing: border-box; width:100%; height: 2.3%; padding-bottom: .2%; } .double-line input{ height: 100%; width: 75%; box-sizing: border-box; float:left; border: thin solid black; padding-left:1%; } .single-line input{ height: 100%; width: 75%; display: inline-block; box-sizing: border-box; float: left; border: thin solid black ; border-width: thin; padding-left:1%; } .input{ height: 100%; width: 63%; display: inline-block; box-sizing: border-box; float: left; } .fee-input{ height: 20%; width: 16%; display: inline-block; float: left; box-sizing: border-box; } .label{ box-sizing: border-box; width: 23%; height: 100%; vertical-align: top; display: inline-block; float: left; margin-right: 2%; padding: .7%; } .label-independent{ box-sizing: border-box; width: 100%; height: 1%; vertical-align: top; display: inline-block; float: left; margin-right: 0%; } .element{ box-sizing: border-box; width: 60% } .left_top{ height: 50%; text-align: left; } .right_bottom{ height: 50%; text-align: right; } .left_bottom{ height: 50%; text-align: left; } table, th, td, tr { font-family: "kalpurushregular"; box-sizing: border-box; border: .5px solid black; border-collapse: collapse; padding: 1px; } .table{ font-family: "kalpurushregular" width: 100%; height: 15%; font-size: 8.6px; } .photo{ box-sizing: border-box; width:100%; height: 13%; } .photo-tabel{ width: 45%; height: 100%; font-size: 8.6px; } .page-break{ page-break-after: always; } .body-border{ border: 1px solid black; padding: 2%;; } .attachements{ width:100%; height: 8%; } td img{ display: block; width:100%; } } </style>');
            mywindow.document.write('</head><body >');
            mywindow.document.write('<h1 class="text-center">' + document.title + '</h1>');
            mywindow.document.write($("#timeWiseComplainantReport").clone().find('.remove-on-print').remove().end().html());
            mywindow.document.write('</body></html>');
            mywindow.print();
            mywindow.close();
            /*$("#timeWiseComplainantReport").clone()
                .css("padding-top", "50px")
                .find(".remove-on-print")
                .remove()
                .end()
                .printThis({
                    importStyle: true,
                    importCSS: true,
                    formValues: false
                });*/
        });
    }

    function initReportDatepicker(datePickerDOM) {
        if (jsLangCodeForLibs == "bn") {
            $.fn.datepicker.dates['bn'] = {
                months: 'জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর'.split('_'),
                monthsShort: 'জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে'.split('_'),
                days: 'রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার'.split('_'),
                daysShort: 'রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি'.split('_'),
                daysMin: 'রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি'.split('_'),
                longDateFormat: {
                    LT: 'A h:mm সময়',
                    LTS: 'A h:mm:ss সময়',
                    L: 'DD/MM/YYYY',
                    LL: 'D MMMM YYYY',
                    LLL: 'D MMMM YYYY, A h:mm সময়',
                    LLLL: 'dddd, D MMMM YYYY, A h:mm সময়'
                },
                calendar: {
                    sameDay: '[আজ] LT',
                    nextDay: '[আগামীকাল] LT',
                    nextWeek: 'dddd, LT',
                    lastDay: '[গতকাল] LT',
                    lastWeek: '[গত] dddd, LT',
                    sameElse: 'L'
                },
                relativeTime: {
                    future: '%s পরে',
                    past: '%s আগে',
                    s: 'কয়েক সেকেন্ড',
                    ss: '%d সেকেন্ড',
                    m: 'এক মিনিট',
                    mm: '%d মিনিট',
                    h: 'এক ঘন্টা',
                    hh: '%d ঘন্টা',
                    d: 'এক দিন',
                    dd: '%d দিন',
                    M: 'এক মাস',
                    MM: '%d মাস',
                    y: 'এক বছর',
                    yy: '%d বছর'
                },
                meridiemParse: /রাত|সকাল|দুপুর|বিকাল|রাত/,
                meridiemHour: function (hour, meridiem) {
                    if (hour === 12) {
                        hour = 0;
                    }
                    if ((meridiem === 'রাত' && hour >= 4) ||
                        (meridiem === 'দুপুর' && hour < 5) ||
                        meridiem === 'বিকাল') {
                        return hour + 12;
                    } else {
                        return hour;
                    }
                },
                meridiem: function (hour, minute, isLower) {
                    if (hour < 4) {
                        return 'রাত';
                    } else if (hour < 10) {
                        return 'সকাল';
                    } else if (hour < 17) {
                        return 'দুপুর';
                    } else if (hour < 20) {
                        return 'বিকাল';
                    } else {
                        return 'রাত';
                    }
                },
                week: {
                    dow: 0, // Sunday is the first day of the week.
                    doy: 6  // The week that contains Jan 1st is the first week of the year.
                }
            };
            moment.locale("bn");
        }

        datePickerDOM.datepicker({
            format: "MM, yyyy",
            startView: 2,
            minViewMode: 1,
            maxViewMode: 2,
            autoclose: true,
            startDate: new Date(2018, 10, 1),
            endDate: "-0m",
            language: jsLangCodeForLibs,
            onSelect: function (dateText, instance) {
                date = $.datepicker.parseDate(instance.settings.dateFormat, dateText, instance.settings);
                date.setDay(1);
                $(this).datepicker("setDate", date);
            },
            beforeShowDay: function (date) {
                if (jsLangCodeForLibs == "bn") {
                    var obj = {
                        "enabled": true,
                        "content": ("" + date.getDate()).toBanglaNumber(),
                        "classes": "",
                        "tooltip": ""
                    };
                    return obj;
                }
            },
            beforeShowYear: function (date) {
                if (jsLangCodeForLibs == "bn") {
                    var obj = {
                        "enabled": true,
                        "content": ("" + date.getFullYear()).toBanglaNumber(),
                        "classes": "",
                        "tooltip": ""
                    };
                    return obj;
                }
            },
            beforeShowDecade: function (date) {
                if (jsLangCodeForLibs == "bn") {
                    var obj = {
                        "enabled": true,
                        "content": ("" + date.getFullYear()).toBanglaNumber(),
                        "classes": "",
                        "tooltip": ""
                    };
                    return obj;
                }
            },
            beforeShowCentury: function (date) {
                if (jsLangCodeForLibs == "bn") {
                    var obj = {
                        "enabled": true,
                        "content": ("" + date.getFullYear()).toBanglaNumber(),
                        "classes": "",
                        "tooltip": ""
                    };
                    return obj;
                }
            }
        });
    }

    $(document).ready(function () {

        initReportDatepicker($("#timeWiseComplainantReportFrom"));
        initReportDatepicker($("#timeWiseComplainantReportTo"));
        $("#timeWiseComplainantReport").find(".form-inline").removeClass("form-inline");
        bindtimeWiseComplainantInputFieldChangeEvents();
        bindtimeWiseComplainantReportViewAction();
        printtimeWiseComplainantReport();
        // $('#timeWiseComplainantSelect').select2();

        bindOfficeLayersChangeActions("");
        $('#officeLayers').select2({
            width: '220px'
        });

        $(".next").click(function(e) {
            currentPage = currentPage + 1;
            $(".prev").removeClass("disabled");
            if (currentPage == maxPage) {
                $(".next").addClass("disabled");
            }
            if (currentPage > maxPage) {
                currentPage = maxPage;
            }
            loadComplainantreport();
        });

        $(".prev").click(function(e) {
            currentPage = currentPage - 1;
            $(".next").removeClass("disabled");
            if (currentPage == 1) {
                $(".prev").addClass("disabled");
            }
            if (currentPage < 1) {
                currentPage = 1;
            }
            loadComplainantreport();
        });

        $("#currentPage").blur(function(e) {
            e.preventDefault();
            var curValue = ("" + $("#currentPage").val()).toEnglishNumber();
            if ($.isNumeric(curValue)) {
                if (curValue > 0 && curValue <= maxPage) {
                    currentPage = curValue;
                    if (currentPage == 1) {
                        $(".prev").addClass("disabled");
                    } else {
                        $(".prev").removeClass("disabled");
                    }
                    if (currentPage == maxPage) {
                        $(".next").addClass("disabled");
                    } else {
                        $(".next").removeClass("disabled");
                    }
                    loadComplainantreport();
                } else {
                    toastr.error("Sorry, page range out of bound");
                    $("#currentPage").val( languageCode == 'en' ? ("" + currentPage) : ("" + currentPage).toBanglaNumber());
                }
            } else {
                toastr.error("Sorry, invalid page number");
                $("#currentPage").val(languageCode == 'en' ? ("" + currentPage) : ("" + currentPage).toBanglaNumber());
            }
        });

    });

</script>